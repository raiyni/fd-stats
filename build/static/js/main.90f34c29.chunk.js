(this["webpackJsonpfd-stats"]=this["webpackJsonpfd-stats"]||[]).push([[0],{127:function(e,n,t){"use strict";t.r(n);var s=t(1),a=(t(62),t(63),t(64),t(65),t(66),t(67),t(7)),o=t(17),i=t(0),r=(t(68),t(18)),c=(t(72),[{label:"Standings",to:"/standings"},{label:"Transactions",to:"/transactions"}]),l=function(){var e=Object(i.useState)("/standings"),n=Object(o.a)(e,2),t=n[0],a=n[1];Object(i.useEffect)((function(){location.hash&&a(location.hash.substr(1))}),[]);var l=c.map((function(e){return Object(s.jsx)("li",{className:"p-tabmenuitem ".concat(e.to==t?"p-highlight":""),children:Object(s.jsx)(r.b,{to:e.to,className:"p-menuitem-link",onClick:function(n){return a(e.to)},children:e.label})},e.to)}));return Object(s.jsxs)("div",{className:"p-card p-d-flex",style:{borderRadius:0,padding:"10px"},children:[Object(s.jsx)("div",{className:"logo",children:Object(s.jsx)("span",{children:"Fantasy Dutchmen"})}),Object(s.jsx)("div",{className:"p-tabmenu p-component",style:{flex:1},children:Object(s.jsx)("ul",{className:"p-tabmenu-nav p-reset",children:l})})]})},d=t(30),f=t(16),u=t(50),p=t(51),b=t(32),j=[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2020],h=function(e){var n=e.filterChange,t=e.from,a=e.to,r=Object(i.useState)(t),c=Object(o.a)(r,2),l=c[0],d=c[1],f=Object(i.useState)(a),u=Object(o.a)(f,2),p=u[0],h=u[1],m=j.map((function(e){return{year:e}}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"From: "}),Object(s.jsx)(b.Dropdown,{value:t,onChange:function(e){d(e.value),n(e.value,p)},options:m,optionLabel:"year",optionValue:"year"}),Object(s.jsx)("span",{style:{marginLeft:"1em"},children:"To: "}),Object(s.jsx)(b.Dropdown,{value:a,onChange:function(e){h(e.value),n(l,e.value)},options:m,optionLabel:"year",optionValue:"year"})]})},m=t(23),O=t(21),y=t.n(O),g=t(33),x=t(24),v=t(52),w=t.n(v),L=Object(x.a)("standings/fetchYear",function(){var e=Object(g.a)(y.a.mark((function e(n,t){var s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/data/standings/".concat(n,".json"));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),F=function(){var e=Object(g.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(j.map((function(e){return n(L(e))})));case 2:n(N.actions.finishedLoading());case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=Object(x.b)({name:"standings",initialState:{store:[],from:2008,to:2020,loading:!0},reducers:{setYears:function(e,n){e.from=n.payload.from,e.to=n.payload.to},finishedLoading:function(e,n){e.loading=!1}},extraReducers:Object(m.a)({},L.fulfilled,(function(e,n){Array.prototype.push.apply(e.store,n.payload.map((function(e){return{year:n.meta.arg,pointsFor:e.pointsFor.value,pointsAgainst:e.pointsAgainst.value,wins:e.recordOverall.wins||0,losses:e.recordOverall.losses||0,playoffWins:e.recordPostseason.wins||0,playoffLosses:e.recordPostseason.losses||0,championships:1===e.recordOverall.rank?1:0,owner:e.owners[0].displayName,id:e.owners[0].id}})))}))}),C=N.actions.setYears,P=N.reducer,S=function(){var e=Object(f.b)(),n=Object(i.useState)([]),t=Object(o.a)(n,2),a=t[0],r=t[1],c=Object(f.c)((function(e){return e.standings.from})),l=Object(f.c)((function(e){return e.standings.to})),b=Object(f.c)((function(e){return e.standings.loading})),j=Object(f.c)((function(e){return e.standings.store})),m=[{header:"Owner",field:"owner",sortable:!1},{header:"Points For",field:"pointsFor",body:function(e){return Number(e.pointsFor).toLocaleString()}},{header:"Points Against",field:"pointsAgainst",body:function(e){return Number(e.pointsAgainst).toLocaleString()}},{header:"Wins",field:"wins"},{header:"Losses",field:"losses"},{header:"Games",field:"games"},{header:"Win %",body:function(e){return e["win%"].toFixed(3)},field:"win%"},{header:"Playoff Wins",field:"playoffWins"},{header:"Playoff Losses",field:"playoffLosses"},{header:"Playoff Games",field:"playoffGames"},{header:"Playoff %",body:function(e){return e["pwin%"].toFixed(3)},field:"pwin%"},{header:"Championships",field:"championships"}];return Object(i.useEffect)((function(){b||function(){var e={};j.forEach((function(n){if(!(n.year<c||n.year>l)){var t=e[n.id]||{pointsFor:0,pointsAgainst:0,wins:0,losses:0,games:0,"win%":0,playoffWins:0,playoffLosses:0,playoffGames:0,"pwin%":0,championships:0,owner:n.owner,field:n.id};e[n.id]=t,t.pointsFor+=n.pointsFor,t.pointsAgainst+=n.pointsAgainst,t.wins+=n.wins,t.losses+=n.losses,t.playoffWins+=n.playoffWins,t.playoffLosses+=n.playoffLosses,t.championships+=n.championships,t.games=t.wins+t.losses,t.playoffGames=t.playoffWins+t.playoffLosses,t["win%"]=t.wins/t.games,t["pwin%"]=t.playoffWins/t.playoffGames}})),r(Object.values(e))}()}),[c,l,b]),Object(i.useEffect)((function(){b&&e(F)}),[]),Object(s.jsx)("div",{className:"p-card",style:{padding:10},children:Object(s.jsx)(p.DataTable,{sortMode:"multiple",value:a,className:"p-datatable-sm p-datatable-striped",header:Object(s.jsx)(h,{filterChange:function(n,t){return e(C({from:n,to:t}))},from:c,to:l}),stateKey:"standingsTable",stateStorage:"session",children:m.map((function(e){return Object(i.createElement)(u.Column,Object(d.a)(Object(d.a)({},e),{},{key:e.header,sortable:!1!==e.sortable}))}))})})},W=t(53),k=t(54),A=t(58),T=t(57),D=(t(125),function(e){Object(A.a)(t,e);var n=Object(T.a)(t);function t(){return Object(W.a)(this,t),n.apply(this,arguments)}return Object(k.a)(t,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"p-card",style:{flex:1,padding:10},children:Object(s.jsx)("div",{children:"Transactions"})})}}]),t}(i.Component));var E=function(){return Object(s.jsxs)("div",{className:"layout-container  p-d-flex",children:[Object(s.jsx)(l,{}),Object(s.jsx)("div",{className:"p-card p-d-flex ui-card-shadow layout-content",style:{flex:1,padding:30,borderRadius:0},children:Object(s.jsxs)(a.d,{children:[Object(s.jsx)(a.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(a.a,{to:"/standings"})}}),Object(s.jsx)(a.b,{path:"/standings",children:Object(s.jsx)(S,{})}),Object(s.jsx)(a.b,{path:"/transactions",children:Object(s.jsx)(D,{})})]})})]})},G=t(12),R=t.n(G),Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,128)).then((function(n){var t=n.getCLS,s=n.getFID,a=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),s(e),a(e),o(e),i(e)}))},B=t(8),I=t(55),J=t(56),M=t.n(J),V=Object(B.combineReducers)({standings:P}),K=t(20),q=Object(B.createStore)(V,Object(I.composeWithDevTools)(Object(B.applyMiddleware)(M.a,K.a)));R.a.render(Object(s.jsx)(r.a,{children:Object(s.jsx)(f.a,{store:q,children:Object(s.jsx)(E,{})})}),document.getElementById("root")),Y()},62:function(e,n,t){},63:function(e,n,t){},67:function(e,n,t){}},[[127,1,2]]]);
//# sourceMappingURL=main.90f34c29.chunk.js.map